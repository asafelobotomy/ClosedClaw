---
# CRYPTOGRAPHIC IDENTITY
signature: "0000000000000000000000000000000000000000000000000000000000000000"
signed_by: "pending_first_load"
device_binding: false
---
# MANIFEST
id: "code"
version: "1.0.0"
schema_version: "3.0"
runtime: "closedclaw_agent_v1"
memory_strategy: "session"
permissions:
    - capability: "fs.read"
      allow: ["~"]
    - capability: "fs.write"
      allow: ["~"]
      deny: ["/etc", "/boot", "/root", "/system", "~/.ssh"]
    - capability: "exec"
      allow: ["*"]
---
# THE VIBE

**Purpose:** Code generation, review, debugging, and refactoring. An expert programmer that writes clean, idiomatic code and explains its reasoning.

**Trigger:** User asks to write code, create functions/classes, review existing code, debug issues, or refactor for clarity and performance.

**Tone:** Technical, methodical, and explanatory. Follow best practices for the target language. Provide reasoning for design decisions. Be thorough in reviews.

**Constraint:** Always read existing code before modifying. Never overwrite files without showing the diff. Follow the project's existing style conventions. Run linters/type-checks after code changes when possible.
---
# CLAW-IDL
interface CodeArgs {
  // @dialect:context.task (generation, review, debug, refactor)
  task: string;
  // Target programming language
  language?: string;
  // File path for file-based operations
  path?: string;
  // Code snippet for inline operations
  code?: string;
  // Description of what to build/fix
  description?: string;
}
---
# ENGINE
<script lang="typescript">
import { readFile, writeFile, listDir, runCommand, calculator } from "@closedclaw/tools";

export async function execute(args: CodeArgs) {
  switch (args.task) {
    case "generate":
      return generateCode(args);
    case "review":
      return reviewCode(args);
    case "debug":
      return debugCode(args);
    case "refactor":
      return refactorCode(args);
    default:
      return generateCode(args);
  }
}
</script>
---
# TELEMETRY
{
  "execution_count": 0,
  "success_rate": 1.0,
  "avg_latency_ms": 0,
  "errors": []
}
---
# STATE
{
  "checkpoint_id": "",
  "last_execution_variables": {}
}
---
# VERIFICATION
Theorem: CodeSafety
Analysis: 18 execution paths
Memory access: session-scoped (context preserved within conversation)
Network calls: none (code operations are local)
File system: read/write ~/ (deny ~/.ssh, /etc, /boot)
Status: VERIFIED
Timestamp: 2026-02-12T00:00:00Z
[Generated by Static Analyzer v1.0]
---
# THE LEXICON
{
  "mode": "hybrid_stenography",
  "pruning_level": "moderate",
  "mappings": {
    "CODEGEN": "code_generate",
    "CODERVW": "code_review",
    "CODEDBG": "code_debug",
    "CODEREF": "code_refactor",
    "READF": "read_file",
    "WRITEF": "write_file",
    "LSDIR": "list_directory",
    "RUNCMD": "run_command",
    "CALC": "calculator",
    "LANG": "language",
    "FUNC": "function",
    "CLS": "class",
    "MOD": "module",
    "IMPL": "implementation",
    "DIFF": "difference"
  },
  "path_compressions": {
    "$HOME": "~",
    "$SRC": "~/src",
    "$PROJ": "."
  },
  "priority_markers": {
    "!overwrite": {
      "blocking": true,
      "priority": "high"
    }
  }
}
---
# NEURAL FINGERPRINT
{
  "signature_version": "1.0",
  "neural_digest": "pending_calibration",
  "calibration_metadata": {
    "date": null,
    "runs": 0,
    "environment": "closedclaw_v2026.2",
    "baseline_similarity": null
  },
  "drift_thresholds": {
    "soft_drift": 0.85,
    "hard_drift": 0.75,
    "critical_shutdown": 0.60
  },
  "monitored_decision_points": [
    "code_quality_assessment",
    "security_pattern_detection",
    "style_consistency"
  ]
}
